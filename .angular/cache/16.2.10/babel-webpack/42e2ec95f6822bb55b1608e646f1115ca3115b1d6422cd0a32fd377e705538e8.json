{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/movies-l.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nfunction ReviewComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"h2\", 5)(2, \"button\", 6)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵelement(6, \"i\", 7);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵelement(9, \"i\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 10);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const review_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"data-bs-target\", \"#collapse\" + i_r3)(\"aria-controls\", \"collapse\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(review_r2.author);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", review_r2.author_details == null ? null : review_r2.author_details.rating, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", review_r2.updated_at, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", \"collapse\" + i_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", review_r2.content, \" \");\n  }\n}\nfunction ReviewComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2);\n    i0.ɵɵtemplate(2, ReviewComponent_div_0_div_2_Template, 14, 7, \"div\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.movieReviewData);\n  }\n}\nexport class ReviewComponent {\n  constructor(active, movieList, http, cdr) {\n    this.active = active;\n    this.movieList = movieList;\n    this.http = http;\n    this.cdr = cdr;\n  }\n  ngOnInit() {\n    this.active.params.subscribe(data => {\n      this.movId = data['id'];\n    });\n    this.getdata();\n  }\n  getdata() {\n    this.movieList.getMovieReview(this.movId).subscribe(data => {\n      if (data && data.results) {\n        this.movieReviewData = data.results.slice(0, 3);\n        console.log(\"this is review\", this.movieReviewData);\n        this.cdr.detectChanges(); //manually trigger change detection\n      }\n    });\n  }\n  static #_ = this.ɵfac = function ReviewComponent_Factory(t) {\n    return new (t || ReviewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.MoviesLService), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReviewComponent,\n    selectors: [[\"app-review\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"review-box\", 4, \"ngIf\"], [1, \"review-box\"], [\"id\", \"accordionExample\", 1, \"accordion\"], [\"class\", \"accordion-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"accordion-item\"], [1, \"accordion-header\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"aria-expanded\", \"true\", 1, \"accordion-button\"], [1, \"fa-solid\", \"fa-star\"], [1, \"fa-solid\", \"fa-calendar-days\"], [\"data-bs-parent\", \"#accordionExample\", 1, \"accordion-collapse\", \"collapse\", \"show\", 3, \"id\"], [1, \"accordion-body\"]],\n    template: function ReviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReviewComponent_div_0_Template, 3, 1, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.movieReviewData);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵattribute","i_r3","ɵɵtextInterpolate","review_r2","author","ɵɵtextInterpolate1","author_details","rating","updated_at","ɵɵproperty","content","ɵɵtemplate","ReviewComponent_div_0_div_2_Template","ctx_r0","movieReviewData","ReviewComponent","constructor","active","movieList","http","cdr","ngOnInit","params","subscribe","data","movId","getdata","getMovieReview","results","slice","console","log","detectChanges","_","ɵɵdirectiveInject","i1","ActivatedRoute","i2","MoviesLService","i3","HttpClient","ChangeDetectorRef","_2","selectors","decls","vars","consts","template","ReviewComponent_Template","rf","ctx","ReviewComponent_div_0_Template"],"sources":["D:\\Angular_Practice\\movie2\\src\\app\\review\\review.component.ts","D:\\Angular_Practice\\movie2\\src\\app\\review\\review.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MoviesLService } from '../services/movies-l.service';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-review',\n  templateUrl: './review.component.html',\n  styleUrls: ['./review.component.css']\n})\nexport class ReviewComponent implements OnInit{\n// movie review data\nmovieReviewData:any;  \nmovId:any;\n\nconstructor(private active:ActivatedRoute,private movieList:MoviesLService,private http:HttpClient,private cdr:ChangeDetectorRef){}\n\n\n  ngOnInit(): void {\n    this.active.params.subscribe((data:any)=>{\n      this.movId=data['id']\n    })\n  this.getdata()    \n  }\n  \n  \n  getdata() {\n    this.movieList.getMovieReview(this.movId).subscribe((data: any) => {\n      if (data && data.results) {\n        this.movieReviewData = data.results.slice(0, 3);\n        console.log(\"this is review\", this.movieReviewData);\n        this.cdr.detectChanges(); //manually trigger change detection\n      }\n    });\n  }\n\n}\n","<div class=\"review-box\" *ngIf=\"movieReviewData\">\n  <div class=\"accordion\" id=\"accordionExample\">\n    <div\n      class=\"accordion-item\"\n      *ngFor=\"let review of movieReviewData; let i = index\"\n    >\n      <h2 class=\"accordion-header\">\n        <button\n          class=\"accordion-button\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          [attr.data-bs-target]=\"'#collapse' + i\"\n          aria-expanded=\"true\"\n          [attr.aria-controls]=\"'collapse' + i\"\n        >\n          <span>{{ review.author }}</span>\n          <span\n            ><i class=\"fa-solid fa-star\"></i>\n            {{ review.author_details?.rating }}</span\n          >\n          <span\n            ><i class=\"fa-solid fa-calendar-days\"></i>\n            {{ review.updated_at }}</span\n          >\n        </button>\n      </h2>\n      <div\n        [id]=\"'collapse' + i\"\n        class=\"accordion-collapse collapse show\"\n        data-bs-parent=\"#accordionExample\"\n      >\n        <div class=\"accordion-body\">\n          {{ review.content }}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}